<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Cetak Struk</title>
  <style>
    #struk {
      width: 300px;
      font-family: monospace;
      white-space: pre;
      border: 1px solid #000;
      padding: 10px;
    }
    @media print {
      body * {
        visibility: hidden;
      }
      #struk, #struk * {
        visibility: visible;
      }
      #struk {
        position: absolute;
        left: 0;
        top: 0;
      }
    }
  </style>
</head>
<body>

<div id="struk">
PT. Contoh Jaya
------------------------------
Tanggal : 07/05/2025
Kasir   : dea
------------------------------
Item      Qty   Harga     Total
Es Buah    1   15.000   15.000
Dimsum     1   20.000   20.000
------------------------------
Total               Rp35000
Bayar               Rp50.000
Kembali             Rp15.000
------------------------------
Terima kasih!
</div>

<button onclick="window.print()">Cetak Struk</button>

</body>
</html>

const dataMenu = {
  menu1: {
    kasir: 'Dea',
    waktu: '2025-05-07 14:32',
    items: [
      { nama: 'Es Buah', qty: 1, subtotal: '15.000' }
    ],
    total: '15.000'
  },
  menu2: {
    kasir: 'Dea',
    waktu: '2025-05-07 14:35',
    items: [
      { nama: 'Nasi Goreng', qty: 1, subtotal: '20.000' },
      { nama: 'Es Teh', qty: 1, subtotal: '5.000' }
    ],
    total: '25.000'
  }
};

function generateReceipt(transaksi) {
  let struk = 
`=========================
VB's
Bukti Transaksi Kasir
=========================
Kasir : ${transaksi.kasir}
Waktu : ${transaksi.waktu}
-------------------------
Barang         Qty  Subtotal`;

  transaksi.items.forEach(item => {
    struk += \n${item.nama.padEnd(15)} ${item.qty}   ${item.subtotal};
  });

  struk += `\n-------------------------
Total: ${transaksi.total}
=========================`;

  return struk;
}

document.addEventListener('DOMContentLoaded', () => {
  const selector = document.getElementById('menuSelector');
  const output = document.getElementById('tampilanStruk');

  if (!selector || !output) {
    console.error('Elemen tidak ditemukan.');
    return;
  }

  function updateReceipt() {
    const transaksi = dataMenu[selector.value];
    const hasilStruk = generateReceipt(transaksi);
    output.textContent = hasilStruk;
  }

  selector.addEventListener('change', updateReceipt);
  updateReceipt(); // Tampilkan default saat pertama kali
});
