<!DOCTYPE html>
<html lang="id">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />

    <!-- FA CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link rel="shortcut icon" href="img/favicon.png" type="image/png" />

    <!-- font-awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- WOW CSS -->
    <link rel="stylesheet" href="css/animate.css" />

    <!-- Title of Page -->
    <title>VB's Marketplace</title>
  </head>

  <body>
    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-md navbar-light fixed-top"
      style="
        background-color: rgba(255, 255, 255, 0.9) !important;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        padding: 10px 0;
      "
    >
      <div class="container">
        <a class="navbar-brand" href="#">
          <img
            src="img/logo.png"
            width="180"
            alt="Logo"
            style="max-height: 45px; width: auto"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">ABOUT</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#products">PRODUCTS</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#menu">MENU</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#cart">CART</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section
      id="about"
      style="
        padding: 120px 20px;
        background: linear-gradient(135deg, #f9f9f9 0%, #f0f0f0 100%);
      "
    >
      <div style="max-width: 1200px; margin: 0 auto">
        <h2
          style="
            text-align: center;
            font-size: 42px;
            margin-bottom: 20px;
            color: #333;
            font-weight: 600;
          "
        >
          Meet Our Team
        </h2>
        <p
          style="
            text-align: center;
            max-width: 700px;
            margin: 0 auto 50px;
            color: #666;
            font-size: 18px;
          "
        >
          The creative minds behind our success, bringing passion and expertise
          to everything we do.
        </p>

        <div
          style="
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
          "
        >
          <!-- Team members -->
          <script src="js/about.js"></script>
        </div>
      </div>
    </section>

    <!-- Products -->
    <div class="container" id="products" style="margin-top: 8%">
      <h2 style="font-size: 2.5rem !important">PRODUCTS</h2>
      <div class="row">
        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInLeft">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://i.gojekapi.com/darkroom/gofood-indonesia/v2/images/uploads/3a6c8584-4fca-45ee-a68e-e33fa8d8f0d4_Go-Biz_20210916_212919.jpeg"
              alt="food product"
            />
          </div>
        </div>

        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInRight">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://kirbiecravings.com/wp-content/uploads/2019/09/easy-french-fries-1.jpg"
              alt="food product"
            />
          </div>
        </div>

        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInLeft">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://www.sasa.co.id/medias/page_medias/Screen_Shot_2021-10-05_at_12_49_34.png"
              alt="food product"
            />
          </div>
        </div>

        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInRight">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://i.gojekapi.com/darkroom/gofood-indonesia/v2/images/uploads/c33f7b3c-d40e-4992-b4e9-61872221ae9b_Go-Biz_20241207_110718.jpeg"
              alt="food product"
            />
          </div>
        </div>

        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInLeft">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://radarmukomuko.bacakoran.co/upload/50cabe3212d7608e3ef4867336b45833.jpg"
              alt="food product"
            />
          </div>
        </div>

        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInRight">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://asset.kompas.com/crops/eWh25QLGaUd83ZfRO6yvdxwygKg=/0x22:968x667/1200x800/data/photo/2023/06/02/64793cbdad978.jpg"
              alt="food product"
            />
          </div>
        </div>

        <div class="col-12 col-sm-8 col-md-5 col-lg-4 wow fadeInLeft">
          <div class="card card-product">
            <img
              class="card-img-top"
              src="https://shottbeverages.com/wp-content/uploads/2019/05/Peppermint-Matcha-Latte.jpg"
              alt="food product"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Menu -->
    <div id="menu" class="container" id="blog" style="margin-top: 8%">
      <h2 style="font-size: 2.5rem !important">Menu Favorit Kami</h2>
      <div class="row mb-4">
        <div class="col-12">
          <ul
            class="nav nav-pills mb-3 justify-content-center"
            id="menu-tabs"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="all-tab"
                data-bs-toggle="pill"
                data-bs-target="#all"
                type="button"
                role="tab"
                aria-controls="all"
                aria-selected="true"
              >
                Semua
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="makanan-tab"
                data-bs-toggle="pill"
                data-bs-target="#makanan"
                type="button"
                role="tab"
                aria-controls="makanan"
                aria-selected="false"
              >
                Makanan
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="minuman-tab"
                data-bs-toggle="pill"
                data-bs-target="#minuman"
                type="button"
                role="tab"
                aria-controls="minuman"
                aria-selected="false"
              >
                Minuman
              </button>
            </li>
          </ul>
        </div>
      </div>

      <div class="tab-content" id="menuTabContent">
        <!-- All Tab -->
        <div
          class="tab-pane fade show active"
          id="semua"
          role="tabpanel"
          aria-labelledby="semua-tab"
        >
          <div class="row" id="all-items"></div>
        </div>

        <!-- Makanan Tab -->
        <div
          class="tab-pane fade"
          id="makanan"
          role="tabpanel"
          aria-labelledby="makanan-tab"
        >
          <div class="row" id="food-items"></div>
        </div>

        <!-- Minuman Tab -->
        <div
          class="tab-pane fade"
          id="minuman"
          role="tabpanel"
          aria-labelledby="minuman-tab"
        >
          <div class="row" id="drink-items"></div>
        </div>
      </div>

      <div class="mt-5 pt-4 border-top" id="cart">
        <h3>
          Keranjang Belanja
          <span id="cart-count" class="badge bg-danger">0</span>
        </h3>

        <div id="empty-cart" class="mt-3 text-center">
          <p class="lead">Keranjang belanja Anda kosong.</p>
        </div>

        <div id="cart-content" class="d-none">
          <div class="table-responsive">
            <table class="table table-bordered mt-3" id="cart-table">
              <thead class="table-light">
                <tr>
                  <th>Menu</th>
                  <th>Harga</th>
                  <th>Jumlah</th>
                  <th>Total</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="row mt-3">
            <div class="col-md-6">
              <button class="btn btn-danger" onclick="clearCart()">
                <i class="fa fa-trash"></i> Kosongkan Keranjang
              </button>
            </div>
            <div class="col-md-6 text-end">
              <h4 id="total-harga" class="mb-3">Total: Rp 0</h4>
              <button class="btn btn-success" onclick="checkout()">
                <i class="fa fa-shopping-bag"></i> Checkout
                <pre id="outputStruk" 
                style="background:#f4f4f4; padding:10px; margin-top:20px;"></pre
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
      <div class="container">
        <div class="row align-items-center">
          <!-- Logo Section -->
          <div class="col-md-4 text-center text-md-start mb-3 mb-md-0">
            <img src="img/favicon.png" alt="Logo" style="width: 65px" />
          </div>

          <!-- Center Text / Navigation -->
          <div class="col-md-4 text-center mb-3 mb-md-0">
            <p class="mb-0">&copy; Tugas PKTI 2C</p>
          </div>

          <!-- Social Media / Contact -->
          <div class="col-md-4 text-center text-md-end">
            <a href="#" class="text-light me-3 text-decoration-none">Privacy</a>
            <a href="#" class="text-light me-3 text-decoration-none">Terms</a>
            <a href="#" class="text-light text-decoration-none">Contact</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scroll to top arrow -->
    <a href="javascript:" id="return-to-top"
      ><i class="fa fa-angle-up" aria-hidden="true" style="font-size: 30px"></i
    ></a>

    <!-- JQuery JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"
      integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g=="
      crossorigin="anonymous"
    ></script>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
      integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"
      integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc"
      crossorigin="anonymous"
    ></script>

    <!-- Custom scripts -->
    <script type="text/javascript" src="js/script.js"></script>

    <!-- WOW animations -->
    <script type="text/javascript" src="js/wow.min.js"></script>

    <script type="text/javascript" src="js/menu.js"></script>
    <script type="text/javascript" src="js/cart.js"></script>

    <script type="text/javascript">
      new WOW().init();
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Keranjang Belanja dengan Struk Otomatis</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <style>
    #outputStruk {
      background: #f8f8f8;
      padding: 10px;
      border: 1px solid #ccc;
      font-family: monospace;
      white-space: pre-wrap;
      margin-top: 1rem;
    }
  </style>
</head>
<body>

  <div class="container my-4">

    <h2>Produk</h2>
    <div class="mb-3">
      <!-- Contoh tombol tambah produk -->
      <button class="btn btn-primary add-to-cart" data-name="Nasi Goreng" data-price="20000" data-category="Makanan">Tambah Nasi Goreng (Rp 20.000)</button>
      <button class="btn btn-primary add-to-cart" data-name="Es Teh Manis" data-price="8000" data-category="Minuman">Tambah Es Teh Manis (Rp 8.000)</button>
    </div>

    <h2>Keranjang Belanja</h2>

    <div id="empty-cart" class="alert alert-info d-none">
      Keranjang belanja kosong.
    </div>

    <div id="cart-content" class="d-none">
      <table id="cart-table" class="table table-bordered">
        <thead>
          <tr>
            <th>Nama</th>
            <th>Harga</th>
            <th>Jumlah</th>
            <th>Total</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody>
          <!-- Isi cart dinamis -->
        </tbody>
      </table>
      <h5 id="total-harga" class="text-end">Total: Rp 0</h5>
      <button class="btn btn-danger" onclick="clearCart()">Kosongkan Keranjang</button>
      <button class="btn btn-success" onclick="checkout()">Checkout</button>
    </div>

    <h2>Struk Pembayaran</h2>
    <pre id="outputStruk">Keranjang kosong.</pre>

  </div>

  <script>
    // Masukkan semua kode JS kamu yang sudah ada di sini
    // Jangan lupa tambahkan fungsi renderReceipt() seperti ini:

    // Format angka ke rupiah
    function formatRupiah(number) {
      return "Rp " + number.toLocaleString("id-ID");
    }

    // Render struk otomatis
    function renderReceipt() {
      const receiptEl = document.getElementById("outputStruk");
      if (!receiptEl) return;

      if (cart.length === 0) {
        receiptEl.textContent = "Keranjang kosong.";
        return;
      }

      let totalHarga = 0;
      let receiptText = "";
      receiptText += "VB's Marketplace\n";
      receiptText += "--------------------------------\n";
      receiptText += `Tanggal : ${new Date().toLocaleString("id-ID")}\n`;
      receiptText += `Kasir   : Dea\n`;
      receiptText += "--------------------------------\n";
      receiptText += "Item          Qty    Harga     Total\n";

      cart.forEach((item) => {
        const itemTotal = item.price * item.qty;
        totalHarga += itemTotal;

        let name = item.name.length > 12 ? item.name.slice(0, 12) + "…" : item.name.padEnd(12, " ");
        let qty = String(item.qty).padStart(3, " ");
        let price = formatRupiah(item.price).padStart(9, " ");
        let total = formatRupiah(itemTotal).padStart(9, " ");

        receiptText += `${name} ${qty} ${price} ${total}\n`;
      });

      receiptText += "--------------------------------\n";
      receiptText += `Total                 ${formatRupiah(totalHarga)}\n`;

      const bayar = 100000;
      const kembali = bayar - totalHarga;

      receiptText += `Bayar                 ${formatRupiah(bayar)}\n`;
      receiptText += `Kembali               ${formatRupiah(kembali)}\n`;
      receiptText += "--------------------------------\n";
      receiptText += "Terima kasih atas kunjungan Anda!\n";

      receiptEl.textContent = receiptText;
    }

    // *** Salin seluruh kode keranjang kamu di sini ***
    // Pastikan dalam renderCart() ada panggilan renderReceipt();

    // Contoh minimal:
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    function updateCartCount() {
      const cartCount = cart.reduce((total, item) => total + item.qty, 0);
      // Bisa update UI jumlah item di header kalau ada
    }

    function renderCart() {
      const tbody = document.querySelector("#cart-table tbody");
      tbody.innerHTML = "";
      let totalHarga = 0;

      if (cart.length === 0) {
        document.getElementById("empty-cart").classList.remove("d-none");
        document.getElementById("cart-content").classList.add("d-none");
      } else {
        document.getElementById("empty-cart").classList.add("d-none");
        document.getElementById("cart-content").classList.remove("d-none");
      }

      cart.forEach((item, index) => {
        const totalItem = item.price * item.qty;
        totalHarga += totalItem;

        tbody.innerHTML +=
          `<tr>
            <td>${item.name}</td>
            <td>${formatRupiah(item.price)}</td>
            <td>
              <div class="input-group" style="max-width: 120px;">
                <button class="btn btn-outline-secondary btn-sm" onclick="updateQuantity(${index}, -1)" ${item.qty <= 1 ? "disabled" : ""}>-</button>
                <input type="text" class="form-control text-center" value="${item.qty}" readonly>
                <button class="btn btn-outline-secondary btn-sm" onclick="updateQuantity(${index}, 1)">+</button>
              </div>
            </td>
            <td>${formatRupiah(totalItem)}</td>
            <td>
              <button class="btn btn-danger btn-sm" onclick="removeItem(${index})">
                <i class="fa fa-trash"></i> Hapus
              </button>
            </td>
          </tr>`;
      });

      document.getElementById("total-harga").textContent =
        "Total: " + formatRupiah(totalHarga);

      renderReceipt();
    }

    function updateQuantity(index, change) {
      cart[index].qty += change;
      if (cart[index].qty <= 0) {
        removeItem(index);
        return;
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
      updateCartCount();
    }

    function removeItem(index) {
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
      updateCartCount();
    }

    function clearCart() {
      if (confirm("Apakah Anda yakin ingin mengosongkan keranjang?")) {
        cart = [];
        localStorage.removeItem("cart");
        renderCart();
        updateCartCount();
      }
    }

    function checkout() {
      if (cart.length === 0) {
        alert("Keranjang belanja Anda kosong.");
        return;
      }
      const totalPrice = cart.reduce((total, item) => total + item.price * item.qty, 0);
      const confirmation = confirm(`Total belanja Anda: ${formatRupiah(totalPrice)}\n\nLanjutkan checkout?`);
      if (confirmation) {
        alert("Terima kasih telah berbelanja di VabsFood!\nPesanan Anda sedang diproses.");
        cart = [];
        localStorage.removeItem("cart");
        renderCart();
        updateCartCount();
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      updateCartCount();
      renderCart();

      const addButtons = document.querySelectorAll(".add-to-cart");
      addButtons.forEach(button => {
        button.onclick = function () {
          const name = this.getAttribute("data-name");
          const price = parseInt(this.getAttribute("data-price"));
          const category = this.getAttribute("data-category");

          const existingIndex = cart.findIndex(item => item.name === name);
          if (existingIndex > -1) {
            cart[existingIndex].qty += 1;
          } else {
            cart.push({name, price, category, qty: 1});
          }

          localStorage.setItem("cart", JSON.stringify(cart));
          renderCart();
          updateCartCount();

          document.getElementById("cart-section")?.scrollIntoView({ behavior: "smooth" });
          return false;
        }
      });
    });
  </script>
</body>
</html>
